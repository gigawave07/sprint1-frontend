<div class="container-fluid mt-5 mx-auto">
	<div class="row">
		<div class="col-lg-3 mx-auto">
			<div class="accordion mb-2" id="accordionExample">
				<div class="card">
					<div class="card-header" id="headingOne">
						<h2 class="mb-0">
							<a href="#">
								<span><i class="fa fa-user"></i> Thông tin cá nhân</span>
							</a>
						</h2>
					</div>
				</div>
				<div class="card">
					<div class="card-header" id="headingTwo">
						<h2 class="mb-0">
							<a href="#" routerLink="/list-pending-ticket">
								<span><i class="fa fa-cc-paypal"></i> Thanh toán</span>
<!--								csdcede-->
							</a>
						</h2>
					</div>
				</div>
				<div class="card">
					<div class="card-header" id="headingThree">
						<h2 class="mb-0">
							<a href="#" routerLink="/search-pending-ticket">
								<span><i class="fa fa-search"></i>Tìm kiếm đặt chỗ</span>
							</a>
						</h2>
					</div>
				</div>
				
				
				<div class="card">
					<div class="card-header" id="headingFour">
						<h2 class="mb-0">
							<a href="#">
								<span><i class="fa fa-history"></i> Lịch sử giao dịch</span>
							</a>
						</h2>
					</div>
				</div>
				<div class="card">
					<div class="card-header" id="headingFive">
						<h2 class="mb-0">
							<a href="#">
								<span><i class="fa fa-id-card-o"></i> Đổi mật khẩu</span>
							</a>
						</h2>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-9 mx-auto">
			<div class="table-responsive">
				<div class="table-wrapper">
					<div class="table-title">
						<div class="row">
							<div class="col-12">
								<h2><b>THANH TOÁN VÉ ĐÃ ĐẶT</b></h2>
							</div>
						</div>
					</div>
					<table class="table table-striped table-hover">
						<thead>
						<tr>
							
							<th>Mã vé</th>
							<th>Nơi đi</th>
							<th>Nơi đến</th>
							<th>Ngày đặt</th>
							<th>Ngày bay</th>
							<th>Giá</th>
							<th>Huỷ</th>
							<th>
								Chọn
							</th>
						</tr>
						</thead>
						<tbody>
<!--						<tr *ngFor="let employee of employeeList |filter:term| paginate: { itemsPerPage: 5, currentPage: p }">-->
<!--							<td>{{employee.id}}</td>-->
<!--							<td>{{employee.name}}</td>-->
<!--							<td>{{employee.position}}</td>-->
						<tr *ngFor="let ticket of ticketList| paginate: { itemsPerPage: 2, currentPage: p }">
<!--						<tr *ngFor="let ticket of ticketList">-->
							
							<td>{{ticket.ticketCode}}</td>
							<td>{{ticket.flightInformation.departure}}</td>
							<td>{{ticket.flightInformation.arrival}}</td>
							<td>{{ticket.booking.bookingDate}}</td>
							<td>{{ticket.flightInformation.departureDate}}</td>
							<td id="flightInformationPrice">{{ticket.flightInformation.price}}</td>
							<!--							<td><a href="#deleteTicketModal">Huỷ</a></td>-->
							<td>
									<button (click)="openCancelDialogTicket(ticket)" class="btn btn-danger" >
										Huỷ
									</button>
							</td>
							<td>
									<span class="custom-checkbox">
									<input type="checkbox" id="{{ticket.ticketCode}}" (change)="onCheckboxChange($event,ticket)">
									<label for="{{ticket.ticketCode}}"></label>
									</span>
							</td>
						</tr>
						</tbody>
					</table>
					<div class="clearfix">
						<pagination-controls (pageChange)="p = $event"></pagination-controls>
					</div>
				</div>
			</div>
			<!--			button paypal-->
			<div class="float-right" id="smart-button-container" style="width: 100px; margin-right: 6rem">
				<div style="text-align: center;">
					<div data-toggle="tooltip" data-placement="bottom" title="Click để thanh toán bằng Paypal"
					     id="paypal-button-container"></div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- button paypal-->
<script
	src="https://www.paypal.com/sdk/js?client-id=ATm7coVZnCoPxBqf-7kf-Mpyqo5W0GZT9VffkuMBV7lZ6Wt75EJ7XSQv5mRiuQqvqQgZIeM73B3j1KGU&currency=USD"
	data-sdk-integration-source="button-factory"></script>
<script>
	function initPayPalButton() {
		paypal.Buttons({
			style: {
				shape: 'rect',
				color: 'gold',
				layout: 'horizontal',
				label: 'paypal',
				tagline: true,
				height: 50
			},
			
			createOrder: function (data, actions) {
				return actions.order.create({
					purchase_units: [{
						"amount": {
							"currency_code": "USD",
							"value": 71.5,
							"breakdown": {
								"item_total": {"currency_code": "USD", "value": 65},
								"shipping": {"currency_code": "USD", "value": 0},
								"tax_total": {"currency_code": "USD", "value": 6.5}
							}
						}
					}]
				});
			},
			
			onApprove: function (data, actions) {
				return actions.order.capture().then(function (details) {
					alert('Transaction completed by ' + details.payer.name.given_name + '!');
				});
			},
			
			onError: function (err) {
				console.log(err);
			}
		}).render('#paypal-button-container');
	}
	
	initPayPalButton();
</script>

